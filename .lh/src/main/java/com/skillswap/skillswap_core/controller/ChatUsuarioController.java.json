{
    "sourceFile": "src/main/java/com/skillswap/skillswap_core/controller/ChatUsuarioController.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1719762654313,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719762662715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,12 +34,12 @@\n         } catch (NoSuchElementException e) {\r\n             throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n         }\r\n     }\r\n-    @GetMapping(\"/{id}\")\r\n+    @GetMapping(\"/usuario/{id}\")\r\n     public ResponseEntity<ChatUsuario> buscar(@PathVariable int id) {\r\n         try {\r\n-            ChatUsuario chatUsuario = service.findById(id);\r\n+            ChatUsuario chatUsuario = service.findByUsuarioId(id);\r\n             return ResponseEntity.ok(chatUsuario);\r\n         } catch (NoSuchElementException e) {\r\n             throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n         }\r\n"
                },
                {
                    "date": 1719762672625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,9 @@\n             throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n         }\r\n     }\r\n     @GetMapping(\"/usuario/{id}\")\r\n-    public ResponseEntity<ChatUsuario> buscar(@PathVariable int id) {\r\n+    public ResponseEntity<ChatUsuario> buscarChatUsuarioByUsuario(@PathVariable int id) {\r\n         try {\r\n             ChatUsuario chatUsuario = service.findByUsuarioId(id);\r\n             return ResponseEntity.ok(chatUsuario);\r\n         } catch (NoSuchElementException e) {\r\n"
                },
                {
                    "date": 1719762691756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,10 @@\n import com.skillswap.skillswap_core.entity.CategoriaHabilidad;\r\n import com.skillswap.skillswap_core.entity.ChatUsuario;\r\n import com.skillswap.skillswap_core.exceptions.ResourceNotFoundException;\r\n import com.skillswap.skillswap_core.service.ChatUsuarioService;\r\n+import com.skillswap.skillswap_core.service.UsuarioService;\r\n+\r\n import lombok.RequiredArgsConstructor;\r\n import org.springframework.http.HttpStatus;\r\n import org.springframework.http.ResponseEntity;\r\n import org.springframework.web.bind.annotation.*;\r\n@@ -19,9 +21,11 @@\n @CrossOrigin(Estandares.CROSS)\r\n public class ChatUsuarioController {\r\n \r\n     private final ChatUsuarioService service;\r\n+        private final UsuarioService usuarioService;\r\n \r\n+\r\n     @GetMapping\r\n     public ResponseEntity<List<ChatUsuario>> listar() {\r\n         return ResponseEntity.ok(service.findAll());\r\n     }\r\n"
                },
                {
                    "date": 1719762701423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,83 @@\n+package com.skillswap.skillswap_core.controller;\r\n+\r\n+import com.skillswap.skillswap_core.constants.Estandares;\r\n+import com.skillswap.skillswap_core.entity.CategoriaHabilidad;\r\n+import com.skillswap.skillswap_core.entity.ChatUsuario;\r\n+import com.skillswap.skillswap_core.exceptions.ResourceNotFoundException;\r\n+import com.skillswap.skillswap_core.service.ChatUsuarioService;\r\n+import com.skillswap.skillswap_core.service.UsuarioService;\r\n+\r\n+import lombok.RequiredArgsConstructor;\r\n+import org.springframework.http.HttpStatus;\r\n+import org.springframework.http.ResponseEntity;\r\n+import org.springframework.web.bind.annotation.*;\r\n+\r\n+import java.util.List;\r\n+import java.util.NoSuchElementException;\r\n+\r\n+@RestController\r\n+@RequestMapping(Estandares.API + \"ChatUsuario\")\r\n+@RequiredArgsConstructor\r\n+@CrossOrigin(Estandares.CROSS)\r\n+public class ChatUsuarioController {\r\n+\r\n+private final ChatUsuarioService service;   \r\n+    private final UsuarioService usuarioService;\r\n+\r\n+\r\n+    @GetMapping\r\n+    public ResponseEntity<List<ChatUsuario>> listar() {\r\n+        return ResponseEntity.ok(service.findAll());\r\n+    }\r\n+\r\n+    @GetMapping(\"/{id}\")\r\n+    public ResponseEntity<ChatUsuario> buscar(@PathVariable int id) {\r\n+        try {\r\n+            ChatUsuario chatUsuario = service.findById(id);\r\n+            return ResponseEntity.ok(chatUsuario);\r\n+        } catch (NoSuchElementException e) {\r\n+            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n+        }\r\n+    }\r\n+    @GetMapping(\"/usuario/{id}\")\r\n+    public ResponseEntity<ChatUsuario> buscarChatUsuarioByUsuario(@PathVariable int id) {\r\n+        try {\r\n+            ChatUsuario chatUsuario = service.findByUsuario();\r\n+            return ResponseEntity.ok(chatUsuario);\r\n+        } catch (NoSuchElementException e) {\r\n+            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n+        }\r\n+    }\r\n+\r\n+\r\n+\r\n+    @PostMapping\r\n+    public ResponseEntity<ChatUsuario> guardar(@RequestBody ChatUsuario chatUsuario) {\r\n+        ChatUsuario nuevo = service.saveChatUsuario(chatUsuario);\r\n+        return new ResponseEntity<>(nuevo, HttpStatus.CREATED);\r\n+    }\r\n+\r\n+    @PutMapping(\"/{id}\")\r\n+    public ResponseEntity<ChatUsuario> actualizar(@PathVariable int id, @RequestBody ChatUsuario chatUsuario) {\r\n+        validarExistencia(id);\r\n+        chatUsuario.setChatUsuarioId(id);\r\n+        ChatUsuario update = service.saveChatUsuario(chatUsuario);\r\n+        return ResponseEntity.ok(update);\r\n+    }\r\n+\r\n+    @DeleteMapping(\"/{id}\")\r\n+    public ResponseEntity<String> eliminar(@PathVariable int id) {\r\n+        validarExistencia(id);\r\n+        service.delteChatUsuarioById(id);\r\n+        String msg = \"ChatUsuario Eliminada : \" + id;\r\n+        return ResponseEntity.ok(msg);\r\n+    }\r\n+\r\n+    private void validarExistencia(int id) {\r\n+        try {\r\n+            service.findById(id);\r\n+        } catch (NoSuchElementException e) {\r\n+            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n+        }\r\n+    }\r\n+}\r\n"
                },
                {
                    "date": 1719768086561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n     }\r\n     @GetMapping(\"/usuario/{id}\")\r\n     public ResponseEntity<ChatUsuario> buscarChatUsuarioByUsuario(@PathVariable int id) {\r\n         try {\r\n-            ChatUsuario chatUsuario = service.findByUsuario(usuarioService.findById(id));\r\n+            ChatUsuario chatUsuario = service.findByUsuarioAmigo(usuarioService.findById(id));\r\n             return ResponseEntity.ok(chatUsuario);\r\n         } catch (NoSuchElementException e) {\r\n             throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n         }\r\n"
                }
            ],
            "date": 1719762654313,
            "name": "Commit-0",
            "content": "package com.skillswap.skillswap_core.controller;\r\n\r\nimport com.skillswap.skillswap_core.constants.Estandares;\r\nimport com.skillswap.skillswap_core.entity.CategoriaHabilidad;\r\nimport com.skillswap.skillswap_core.entity.ChatUsuario;\r\nimport com.skillswap.skillswap_core.exceptions.ResourceNotFoundException;\r\nimport com.skillswap.skillswap_core.service.ChatUsuarioService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\n\r\n@RestController\r\n@RequestMapping(Estandares.API + \"ChatUsuario\")\r\n@RequiredArgsConstructor\r\n@CrossOrigin(Estandares.CROSS)\r\npublic class ChatUsuarioController {\r\n\r\n    private final ChatUsuarioService service;\r\n\r\n    @GetMapping\r\n    public ResponseEntity<List<ChatUsuario>> listar() {\r\n        return ResponseEntity.ok(service.findAll());\r\n    }\r\n\r\n    @GetMapping(\"/{id}\")\r\n    public ResponseEntity<ChatUsuario> buscar(@PathVariable int id) {\r\n        try {\r\n            ChatUsuario chatUsuario = service.findById(id);\r\n            return ResponseEntity.ok(chatUsuario);\r\n        } catch (NoSuchElementException e) {\r\n            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n        }\r\n    }\r\n    @GetMapping(\"/{id}\")\r\n    public ResponseEntity<ChatUsuario> buscar(@PathVariable int id) {\r\n        try {\r\n            ChatUsuario chatUsuario = service.findById(id);\r\n            return ResponseEntity.ok(chatUsuario);\r\n        } catch (NoSuchElementException e) {\r\n            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @PostMapping\r\n    public ResponseEntity<ChatUsuario> guardar(@RequestBody ChatUsuario chatUsuario) {\r\n        ChatUsuario nuevo = service.saveChatUsuario(chatUsuario);\r\n        return new ResponseEntity<>(nuevo, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(\"/{id}\")\r\n    public ResponseEntity<ChatUsuario> actualizar(@PathVariable int id, @RequestBody ChatUsuario chatUsuario) {\r\n        validarExistencia(id);\r\n        chatUsuario.setChatUsuarioId(id);\r\n        ChatUsuario update = service.saveChatUsuario(chatUsuario);\r\n        return ResponseEntity.ok(update);\r\n    }\r\n\r\n    @DeleteMapping(\"/{id}\")\r\n    public ResponseEntity<String> eliminar(@PathVariable int id) {\r\n        validarExistencia(id);\r\n        service.delteChatUsuarioById(id);\r\n        String msg = \"ChatUsuario Eliminada : \" + id;\r\n        return ResponseEntity.ok(msg);\r\n    }\r\n\r\n    private void validarExistencia(int id) {\r\n        try {\r\n            service.findById(id);\r\n        } catch (NoSuchElementException e) {\r\n            throw new ResourceNotFoundException(\"Objeto con id : \" + id);\r\n        }\r\n    }\r\n}\r\n"
        }
    ]
}